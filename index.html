<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Certificate</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <section class="col-lg-6 col-md-8 col-sm-12 wrapper">
    <div class="logo">
      <img src="img/logo.png" alt="logo">
    </div>
    <div class="text-area">
      <h1>Your certificate is ready.<br></h1>
      <p>Please fill out the form below.<br>You can do this just once, be careful!</p>
    </div>
    <div class="col-lg-10 col-md-8 col-sm-10 center">
      <form class="box">
        <div class="username-field input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">User name</span>
          <input class="form-control" type="text" name="user_name" id="userName" required focus>
        </div>
        <div class="input-group flex-nowrap">
          <span class="input-group-text" id="addon-wrapping">Course title</span>
          <input class="form-control" type="text" name="course_title" id="courseTitle" required>
        </div>
        <br>
        <input class="btn btn-outline-light" type="submit" id="button1" onclick="GetPdfCertificate(getName(), getTitle(), disableElement());">
      </form>
    </div>
  </section>

  <script type="text/javascript">
    var userName = getName();
    var courseTitle = getTitle();

    function getName(userName) {
      userName = document.getElementById("userName").value; // write userName on a certificate
      return userName;
    }

    function getTitle() {
      courseTitle = document.getElementById("courseTitle").value; // write courseTitel on a certificate
      return courseTitle;
    }

    function disableElement() {
      document.getElementById("button1").disabled = true; //disable Sumbit
    }

    document.writeln('<script type=\"text/javascript\" src=\"build/pdfmake.min.js\"><\x2fscript>');
    document.writeln('<script type=\"text/javascript\" src=\"build/vfs_fonts.js\"><\x2fscript>');
    document.writeln('<script type=\"text/javascript\" src=\"build/certificate.js\"><\x2fscript>');
    document.writeln('<script type=\"text/javascript\" a href="#" onclick="GetPdfCertificate(userName)">Submit</a>');
    document.writeln('<a align = \"center\" href=\"#\" onclick=\"GetPdfCertificate(userName, courseTitle)\">Download</a>');
    document.close();
  </script>

</body>

</html>